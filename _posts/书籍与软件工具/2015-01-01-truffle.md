---
layout: post
title: truffle
category: 书籍与软件工具
tags: software／tool
keywords: btc,
description: 
---

## 安装[More](http://wangxiaoming.com/blog/2016/04/30/blockchain-tech-truffle/)

```
npm install -g truffle
npm install -g ethereumjs-testrpc
```

#### 新建第一个项目

```
mkdir new_truffle
cd new_truffle
truffle init webpack
```

truffle.js新增如下代码(否则报错`truffle No network specified. Cannot determine current network`):

```
module.exports = {
	networks: {
	    development: {
	        host: "localhost",
	        port: 8545,
	        network_id: "*" // 匹配任何network id
	     }
	}
};

```

#### 编译项目

```
truffle compile
```

#### 部署项目

```
testrpc
truffle migrate
```

#### 启动服务

报错`TypeError: fsevents is not a constructor `（修改truffle版本`npm uninstall -g truffle npm install -g truffle@3.2.1`）

```
npm run dev
```

打开`http://localhost:8080`

打开后报错`has not been deployed to detected network`(metamask必须设置为localhost:8545,[To use Metamask with your local development blockchain, you need to point it at your testrpc.](http://truffleframework.com/tutorials/truffle-and-metamask))

## Reference

* <>