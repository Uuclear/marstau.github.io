---
layout: post
title: apktool
category: 书籍与软件工具
tags: software／tool
keywords: 
description: 
---




## Error

#### `Exception in thread "main" Can't construct a java object`

`apktool-v2.0.3.jar` works fine.

#### `brut.androlib.AndrolibException: brut.common.BrutException: could not exec command`

1. 更新aapt[More](https://github.com/iBotPeaches/Apktool/pull/1390)
2. `cmd = "java -jar " + apktool + " -r d " + decompileDir + " " + decompileFile` 加参数 `-r` (即不反编译AndroidManifest.xml等资源文件)

#### `brut.androlib.err.UndefinedResObject`

换成最新的`framework-res.apk`(我下了个35MB的)

#### ERROR: 9-patch xxx.9.png malformed

#### `brut.androlib.meta.MetaInfo`

1. 编译apk的版本和反编译apktool的版本不一致,调整apktool的版本即可
2. 删除apktool.yml这一行

#### `AndroidManifest.xml:1:1: 前言中不允许有内容`

#### No resource found that matches the given name '@android style/Animation.LockScreen和No resource found that matches the given name '@android style/Animation.OptionsPanel'[More](https://www.jianshu.com/p/d3f20f0d28e4)

Solution:
找到Animation.LockScreen和Animation.OptionsPanel声明的地方删掉，回编译通过

## Reference

* [apktool.jar download](https://bitbucket.org/iBotPeaches/apktool/downloads/)