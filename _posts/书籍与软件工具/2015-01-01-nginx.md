---
layout: post
title: nginx
category: 书籍与软件工具
tags: software／tool
keywords: nginx
description: 
---


## 命令

```
vim /etc/nginx/nginx.conf # 配置路径
systemctl status nginx.service # 运行状态
service nginx restart # 重启
```

## gitlab多域名设置

`/var/opt/gitlab/nginx/conf/nginx.conf` 增加配置:

```
server {
        listen       80;
        server_name       www.baidu.com;

        location / {
            proxy_pass http://127.0.0.1:82;
            proxy_set_header Host $host;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        }
 }
```

## Error

#### bind() to 0.0.0.0:80 failed

```
nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)
```

Solution:

杀掉进程

```
sudo fuser -k 80/tcp
```

#### 

## Reference

* 