---
layout: post
title: 地下城与勇士
category: 游戏技术
tags: game　design
keywords: book,recommend
description: 
---

####虚拟机开DNF提示非法[More](http://bbs.duowan.com/thread-38745920-1-1.html)
在虚拟机的Windows XP Professional.vmx文件末尾加入 (关闭虚拟机后加入，再重新开启虚拟机)

```
monitor_control.restrict_backdoor = "true"
```

####台服输入法的问题

1. 安装搜狗输入法
2. 新建1.reg文件，输入如下内容。

```
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layouts\E0200404]
"Ime File"="SOGOUPY.IME"
"Layout File"="kbdus.dll"
"Layout Text"="中文(繁体) - 搜狗拼音输入法"
```

双击运行。

3. 再次覆盖安装搜狗输入法，即可看到切换输入法中有繁体选项了。

####属性计算公式

力量 - 物攻
体力 - 物防
智力 - 魔攻
精神 - 魔防

物攻=武器物理攻击力*(1+0.004*力量)
魔攻=武器魔法攻击力*(1+0.004*智力)

物理攻击力=（武器基础物攻＋附魔物攻＋装备附加的物攻如西岚）*（1＋力量*0.004）*（1＋武器精通百分数）＋强化无视防御的物理攻击力 
固定伤害类物理技能=技能基础物理攻击x（1+0.004x力量）x（1+buff效果）
剑魂巴恩的手套：一点物攻等于6点面板！67x6=402 一点力量等于3点面板！27x3=81 402+81=483面板！别的辅助装备要160力量才能提升这么高的面板！[More](http://zhidao.baidu.com/question/541673955.html)

对于固定伤害的职业来说还是力量卡好的，职业技能是百分比的还是攻击卡吧

红眼：
左槽全属性 右槽独立攻击
狂战士主要堆力量 
PK无疑70的CC，开孔镶嵌加攻速、移动、血徽章。刷图 那还是野猪套，附38力地宝珠。


##私服启动方法

需要软件:

```
* phpstudy 2014
* Navicat for MySQL
* VMWare 10
* SecureCRT
```


1. c:/windows/system32/drivers/etc 里面添加个hosts 里面添加192.168.1.200 start.dnf.tw


浏览器输入192.168.1.200,有网址


本机IP:192.168.1.160
虚拟机IP:192.168.1.200

连接本机IP的数据库,修改如下:

* d_taiwan->db_connection->所有记录的db_ip字段修改为本机IP;
* d_taiwan->dblab_db_connect_130516->所有记录的db_ip字段修改为本机IP;
* tw->db_connection->所有记录的db_ip字段修改为虚拟机IP;
* tw->dblab_db_connect_130516->所有记录的db_ip字段修改为虚拟机IP;(第一条改为本机ip？)
* d_taiwan->geo_allow->添加如下字段

	```
	192.168.1.0
	192.168.1.160	CN
	```
	
* tw->geo_allow->添加如下字段

	```
	192.168.1.0
	192.168.1.160	CN
	```

连接虚拟机IP的数据库,修改如下:

* 将下列文本内容填入1.bat中,1.bat放在客户端根目录下。
* d_taiwan->db_connection->所有记录的db_ip字段修改为本机IP;


```
start dnf.exe QgElWj7lc5TJStZ+ZPbi0SqVZoDK88HOp6+YDgZrbk4bvf0sjJz1Kk+vig8k1F50K1Fv7X0JMy0x9LGjRJWGI5tOaGhqG12k4vbM0u1e1PpVwpcdf3MDflweqZ8T5T2MDidCwlXyPZaibmqCULHIM7axiMNdAtuwUhsoxaveRpWAjm0BzJyWBmin4IzV98INhdqQfHmIozN18QpbBotmV+4tBK+TQ1c+0TAVjxSObMoygSLiJAZQdTiLW8EZPGwZOKcJ8i+URSBvpNmZ4ntpfo5+i0hfaCz71rixirs65p5f4ySQWSin1pjKcSHGYYTHgRUvqDypgj6hNmoJkKWtvw==
```

双击1.bat,运行游戏。

2. 用SecureFX连接虚拟机, 依次运行如下命令

```
./stop (确保之前的进程全部停止)
service mysqld start
./run
```

 * 更多命令

	```
	ps -efl | grep start
	```

###数据库修改:

d_taiwan

	```
	accounts => 账号ID和密码 ？
	limit_create_character => 角色生成限制,count改为小于2的值
	dnf_event_info => 无限PL修改CUnlimitFatigueEvent记录apply_type列为1 活动开启 ?
	slang_list => 名字名称输入限制 ?
	slang_list_name => 名字名称输入限制 ?
	```
taiwan_billing

	```
	cash_cera => D币
	
	```
taiwan_cain

	```
	charac_info => 角色ID和帐号信息 ?
	charac_quest_shop => QP找到角色ID对应修改 ？
	event_levelup_support => 事件升级支持 ？
	
	```

taiwan_cain_2nd

	```
	inventory => PVP胜败经验场数 ？
	letter => 邮件发送 ？
	skill_fair_pvp => 技能表 ?
	```
* taiwan_cain_auction_cera

	```
	auction_main => 邮件1 ?
	auction_system_main => 邮件2 ?
	```
* taiwan_cain_web

	```
	```

* taiwan_cain_auction_gold

	```
	auction_main => 邮件3 ?
	auction_system_main => 邮件4 ?
	```
* taiwan_login

	```
	login_account_1 => 帐号登录时间 ?
	```

####Task
```
合到一个数据库
修改契约等级
拍卖行
最新台服端同步
外网
80级开放
PKC


postal@taiwan_cain_2nd
taiwan_cain_2nd skill SP点
member_avatar_coin 时装硬币
inventory 金币
d_taiwan_cain pvp_result（win_point）PVP胜场
charac_quest_shop QP
taiwan_billing cash_cera_point D点
cash_cera D币
d_taiwan limit_create_character 创建角色限制 1改为0
d_taiwan
```

#Reference

* [剑魂出血流](http://tieba.baidu.com/p/2157305764?see_lz=1)
