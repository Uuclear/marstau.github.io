---
layout: post
title: Go基础知识
category: 游戏技术
tags: Go
keywords: Go
description: 
---

## 语法


#### $GOPATH

go编译后的二进制文件在$GOPATH/bin目录下

#### make

内置函数, 创建数组切片

eg:

```
myMap = make(map[string] PersonInfo, 100) # 个数100
```

#### map

key必须支持==（避免使用浮点型）value不做规范

```
map[key]value
```

## 命令

```
go build name.go
go install . # 编译,生成文件至$GOPATH/bin
```

```
/Users/username/go/src/github.com # mac github目录
```

#### json.Marshal始终解析为{}

Cmd,Body需要大写

```
type StBody struct {
}

type Cmds struct {
	Cmd string `json:"cmd"`
	Body StBody `json:"body"`
}

emptyBody := StBody{}
cmdsJ := Cmds{Cmd : cmdlist, Body : emptyBody }

c, err := json.Marshal(cmdsJ)
if err != nil {
	log.Println("error:", err)
	return nil, err
}

log.Println("converted string:", string(c))

```

## Reference