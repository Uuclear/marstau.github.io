---
layout: post
title: php基础知识
category: 编程开发
tags: php
keywords: php
description: 
---


#### 遍历修改无效

```
foreach ($items as $value) {
	$value['reg'] = 10000;
}
```

修改为

```
foreach ($items as &$value) {
	$value['reg'] = 10000;
}
```

方法同理

```
function fun(&$items){}
```

#### 不定参数

```
public function on()
{
    if(func_get_arg(0) === 'workerStart')
    {
       $this->worker->onWorkerStart = func_get_arg(1);
       return;
    }
    return call_user_func_array(array($this->sockets, 'on'), func_get_args());
} 
```

#### 打印日志

```
$file  = 'log.txt';
$content = 'abc';
file_put_contents($file, $content.PHP_EOL,FILE_APPEND);
```

调用


```
$sender_io->on('connection', function($socket){
	...
});
```

#### 数组转为字符串


```
<?php
$arr = array('Hello','World!','I','love','Shanghai!');
echo implode(" ",$arr);
?>
```
#### 打印数组

```
var_dump($arr)
print_r($arr)
```

## Error 


#### Call to undefined function imagettfbbox()

mac缺少freetype库

安装另一个版本php(带 freetype)

```
brew install php@7.1
```

#### CreateFile() The system cannot find the file specified

修改为`apache`启动

#### Child: Parent process exited abruptly. Child process is ending[More](https://www.fujieace.com/web/child-process-is-ending.html)

apache版本和PHP版本不兼容

## Reference





